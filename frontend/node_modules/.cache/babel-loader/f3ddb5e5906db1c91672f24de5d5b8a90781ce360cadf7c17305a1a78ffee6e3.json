{"ast":null,"code":"import React,{useState,useEffect,useMemo}from\"react\";import axios from\"axios\";import\"../styles.css\";// Import styles\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Home=()=>{const[posts,setPosts]=useState([]);const[newBlog,setNewBlog]=useState({title:\"\",image:\"\",description:\"\"});// Memoized default blog posts\nconst defaultBlogs=useMemo(()=>[{title:\"The Future of AI\",image:\"/1.jpg\",description:\"AI is reshaping industries, from healthcare to finance...\"},{title:\"Top JavaScript Frameworks in 2025\",image:\"/2.jpg\",description:\"JavaScript continues to dominate web development...\"},{title:\"How to Start a Startup\",image:\"/3.jpeg\",description:\"Every successful startup begins with a great idea...\"},{title:\"Rise of Electric Vehicles\",image:\"/4.jpg\",description:\"EVs are revolutionizing transportation...\"}],[]);// Fetch blogs from MongoDB\nuseEffect(()=>{const fetchBlogs=async()=>{try{const token=localStorage.getItem(\"token\");const response=await axios.get(\"https://backend-cts4yc3a9-janhavi8220s-projects.vercel.app/posts\",{headers:{Authorization:`Bearer ${token}`}});setPosts([...defaultBlogs,...response.data]);}catch(error){var _error$response,_error$response$data;console.error(\"Error fetching posts:\",((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.message)||error.message);setPosts(defaultBlogs);}};fetchBlogs();},[defaultBlogs]);// Handle blog input change\nconst handleChange=e=>{const{name,value}=e.target;setNewBlog({...newBlog,[name]:value});};// Handle form submission\nconst addBlog=async e=>{e.preventDefault();const token=localStorage.getItem(\"token\");if(!token){alert(\"You must be logged in to add a blog.\");return;}if(newBlog.title&&newBlog.image&&newBlog.description){try{const response=await axios.post(\"https://backend-cts4yc3a9-janhavi8220s-projects.vercel.app/posts\",newBlog,{headers:{Authorization:`Bearer ${token}`}});setPosts([...posts,response.data]);setNewBlog({title:\"\",image:\"\",description:\"\"});}catch(error){var _error$response2,_error$response2$data;console.error(\"Error adding blog:\",((_error$response2=error.response)===null||_error$response2===void 0?void 0:(_error$response2$data=_error$response2.data)===null||_error$response2$data===void 0?void 0:_error$response2$data.message)||error.message);}}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Welcome to the Blog\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"add-blog-form\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Add a New Blog\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:addBlog,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"title\",placeholder:\"Enter Blog Title\",value:newBlog.title,onChange:handleChange,required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"image\",placeholder:\"Enter Image URL\",value:newBlog.image,onChange:handleChange,required:true}),/*#__PURE__*/_jsx(\"textarea\",{name:\"description\",placeholder:\"Enter Blog Description\",value:newBlog.description,onChange:handleChange,required:true}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Add Blog\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"blog-container\",children:posts.map((post,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"blog-card\",children:[/*#__PURE__*/_jsx(\"img\",{src:post.image,alt:post.title,className:\"blog-image\"}),/*#__PURE__*/_jsx(\"h3\",{children:post.title}),/*#__PURE__*/_jsx(\"p\",{children:post.description})]},index))})]});};export default Home;","map":{"version":3,"names":["React","useState","useEffect","useMemo","axios","jsx","_jsx","jsxs","_jsxs","Home","posts","setPosts","newBlog","setNewBlog","title","image","description","defaultBlogs","fetchBlogs","token","localStorage","getItem","response","get","headers","Authorization","data","error","_error$response","_error$response$data","console","message","handleChange","e","name","value","target","addBlog","preventDefault","alert","post","_error$response2","_error$response2$data","children","className","onSubmit","type","placeholder","onChange","required","map","index","src","alt"],"sources":["C:/Users/rishi/OneDrive/Desktop/blog/blogs/frontend/src/components/Home.js"],"sourcesContent":["import React, { useState, useEffect, useMemo } from \"react\";\r\nimport axios from \"axios\";\r\nimport \"../styles.css\"; // Import styles\r\n\r\nconst Home = () => {\r\n  const [posts, setPosts] = useState([]);\r\n  const [newBlog, setNewBlog] = useState({ title: \"\", image: \"\", description: \"\" });\r\n\r\n  // Memoized default blog posts\r\n  const defaultBlogs = useMemo(() => [\r\n    { title: \"The Future of AI\", image: \"/1.jpg\", description: \"AI is reshaping industries, from healthcare to finance...\" },\r\n    { title: \"Top JavaScript Frameworks in 2025\", image: \"/2.jpg\", description: \"JavaScript continues to dominate web development...\" },\r\n    { title: \"How to Start a Startup\", image: \"/3.jpeg\", description: \"Every successful startup begins with a great idea...\" },\r\n    { title: \"Rise of Electric Vehicles\", image: \"/4.jpg\", description: \"EVs are revolutionizing transportation...\" }\r\n  ], []);\r\n\r\n  // Fetch blogs from MongoDB\r\n  useEffect(() => {\r\n    const fetchBlogs = async () => {\r\n      try {\r\n        const token = localStorage.getItem(\"token\");\r\n        const response = await axios.get(\"https://backend-cts4yc3a9-janhavi8220s-projects.vercel.app/posts\", {\r\n          headers: { Authorization: `Bearer ${token}` }\r\n        });\r\n        setPosts([...defaultBlogs, ...response.data]);\r\n      } catch (error) {\r\n        console.error(\"Error fetching posts:\", error.response?.data?.message || error.message);\r\n        setPosts(defaultBlogs);\r\n      }\r\n    };\r\n\r\n    fetchBlogs();\r\n  }, [defaultBlogs]);\r\n\r\n  // Handle blog input change\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setNewBlog({ ...newBlog, [name]: value });\r\n  };\r\n\r\n  // Handle form submission\r\n  const addBlog = async (e) => {\r\n    e.preventDefault();\r\n    const token = localStorage.getItem(\"token\");\r\n    if (!token) {\r\n      alert(\"You must be logged in to add a blog.\");\r\n      return;\r\n    }\r\n\r\n    if (newBlog.title && newBlog.image && newBlog.description) {\r\n      try {\r\n        const response = await axios.post(\"https://backend-cts4yc3a9-janhavi8220s-projects.vercel.app/posts\", newBlog, {\r\n          headers: { Authorization: `Bearer ${token}` }\r\n        });\r\n        setPosts([...posts, response.data]);\r\n        setNewBlog({ title: \"\", image: \"\", description: \"\" });\r\n      } catch (error) {\r\n        console.error(\"Error adding blog:\", error.response?.data?.message || error.message);\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h2>Welcome to the Blog</h2>\r\n\r\n      {/* Add Blog Form */}\r\n      <div className=\"add-blog-form\">\r\n        <h3>Add a New Blog</h3>\r\n        <form onSubmit={addBlog}>\r\n          <input type=\"text\" name=\"title\" placeholder=\"Enter Blog Title\" value={newBlog.title} onChange={handleChange} required />\r\n          <input type=\"text\" name=\"image\" placeholder=\"Enter Image URL\" value={newBlog.image} onChange={handleChange} required />\r\n          <textarea name=\"description\" placeholder=\"Enter Blog Description\" value={newBlog.description} onChange={handleChange} required></textarea>\r\n          <button type=\"submit\">Add Blog</button>\r\n        </form>\r\n      </div>\r\n\r\n      {/* Display Blogs */}\r\n      <div className=\"blog-container\">\r\n        {posts.map((post, index) => (\r\n          <div key={index} className=\"blog-card\">\r\n            <img src={post.image} alt={post.title} className=\"blog-image\" />\r\n            <h3>{post.title}</h3>\r\n            <p>{post.description}</p>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}